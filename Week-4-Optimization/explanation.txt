This version improves earlier transaction logic by:

- Using functions for better structure
- Adding validation to ensure data consistency
- Improving readability and maintainability

This demonstrates basic optimization and refactoring.
